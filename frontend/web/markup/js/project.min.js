function Popup(e){"use strict";var t=this;return t.isMobDevice=t.isMobDevice=FRONDEVO?FRONDEVO.controls.isMobDevice:!1,t.elems={$menu:$(".header-menu").eq(0),$menuItems:$(".header-menu .m-item"),$popup:$(".fd__popup"),$popupHtml:$(".pop-content").html().replace(/style=\"display: none;\"/g,""),$hbMenu:$(".fd__hb-menu")},t.elems.$popup.remove(),t.settings={},$.extend(t.settings,e),t.popupCode=function(e,t,o){return e=e?e:"",t=t?t:"",o=o?o:"",'<div class="fd__popup tEndElement">    <div class="pop-wrap">        <div class="queue-wrap queueFromTop">            <h2 class="pop-title tEndElement queue queue1">'+e+'</h2>        </div>        <div class="pop-content queue-wrap queueFromBottom">'+t+'</div>        <div title="'+o+'" class="pop-btn-close"></div>    </div></div>'},t.popupMenuCode=function(e,o){return e=e?e:"",o=o?o:"",'<div class="fd__popup fd__popup_v2 tEndElement">    <div class="pop-wrap">'+t.elems.$popupHtml+'</div>    <div title="'+o+'" class="pop-btn-close">    <span></span>    </div></div>'},t.popups={},t.init(e),this}Popup.prototype={init:function(){"use strict";var e=this;return e.controls(),this},getMenuPopup:function(e){"use strict";var t=this,o=t.elems,i='<ul class="popup-menu">',n="";return o.$menuItems.each(function(e,t){var o={popup:$(t).find("a, span").attr("data-popup"),popupTitle:$(t).find("a, span").attr("data-popup-title"),popupClose:$(t).find("a, span").attr("data-popup-close")};if(o.popup&&(n=' data-popup="'+o.popup+'" data-popup-title="'+o.popupTitle+'" data-popup-close="'+o.popupClose+'"'),$(t).hasClass("active"))i+='<li class="pm-item active queue queue'+(e+1)+'"'+n+"><span>"+$(t).text()+"</span></li>";else{var s=$(t).find("a").eq(0);i+='<li class="pm-item queue queue'+(e+1)+'"'+n+'><a href="'+s.attr("href")+'">'+s.text()+"</a></li>"}}),i+="</ul>",t.popups.menu.code=i,"function"==typeof e&&e(),this},getPopupContent:function(e,t){"use strict";var o=this;if("menu"===e.popup)o.popups[e.popup]={title:e.title,close:e.close,popup:e.popup},o.getMenuPopup(function(){"function"==typeof t&&t(e.popup)});else{e.url?e.url:"popup/";o.popups[e.popup]={title:e.title,close:e.close,popup:e.popup,code:o.elems.$popupHtml},"function"==typeof t&&t(e.popup)}return this},openPopup:function(e){"use strict";var t=this,o={};switch(e){case"gmenu":o=$(t.popupMenuCode(t.popups[e].code,t.popups[e].close));break;default:o=$(t.popupCode(t.popups[e].title,t.popups[e].code,t.popups[e].close))}return t.elems.$popup=o,t.elems.$popupTitleWrap=o.find(".pop-title").eq(0).parent(),t.elems.$popupContent=o.find(".pop-wrap").eq(0),t.elems.$popupContent.removeClass("animate in"),t.elems.$popupTitleWrap.removeClass("animate in"),$("html").addClass("no-scroll"),$("body").append(o),setTimeout(function(){o.addClass("visible"),t.elems.$hbMenu.addClass("hidden"),setTimeout(function(){t.elems.$popup.find(".queue-wrap").addClass("animate in")})},100),this},closePopup:function(){"use strict";var e=this,t=e.elems.$popup.find(".pop-title").length?e.elems.$popup.find(".pop-title"):e.elems.$popupContent.find(".fd__stripe").eq(0);return e.elems.$popup.find(".queue-wrap").removeClass("in"),t.data("tcallback",{prop:"opacity",callback:function(){e.elems.$popup.removeClass("visible"),e.elems.$hbMenu.removeClass("hidden"),$("html").removeClass("no-scroll"),e.elems.$popup.data("tcallback",{prop:"opacity",callback:function(){e.elems.$popup.remove(),e.elems.$popup=null}}),t.data("tcallback",null)}}),this},updateContent:function(e){"use strict";var t=this,o=t.elems.$popup.find(".pop-title"),i=t.elems.$popup.find(".queue-wrap");return i.eq(0).removeClass("in"),i.eq(1).removeClass("in"),o.data("tcallback",{prop:"opacity",callback:function(){t.getPopupContent(e,function(){t.elems.$popupContent.empty().append(t.popups[e.popup].code),o.html(e.title),i=t.elems.$popup.find(".queue-wrap"),t.elems.$popupTitleWrap=t.elems.$popup.find(".pop-title").eq(0).parent(),t.elems.$popupContent=t.elems.$popup.find(".pop-content").eq(0),i.eq(0).addClass("queueFromTop"),i.eq(1).addClass("queueFromBottom"),setTimeout(function(){i.eq(0).addClass("in"),i.eq(1).addClass("in"),t.elems.$popup.find(".pop-title").data("tcallback",null)},100)})}}),!1},createPopupObject:function(e){"use strict";var t=this;return t.elems.$popup?(e.title=$obj.attr("data-popup-title"),t.updateContent(e)):t.popups[e.popup]?t.openPopup(e.popup):t.getPopupContent(e,function(e){t.openPopup(e)}),this},controls:function(){"use strict";var e=this,t=e.isMobDevice?"touchend MSPointerDown click":"click";return $(document).on(t,"[data-popup]",function(t){e.elems.$popup&&(e.elems.$popup.remove(),e.elems.$popup=null);var o=$(this),i={popup:o.attr("data-popup"),title:o.attr("data-popup-title"),close:o.attr("data-popup-close"),url:o.attr("data-popup-url")};e.createPopupObject(i),t.preventDefault()}),$(document).on(t,".pop-btn-close",function(t){e.closePopup()}),this}},window.module||(window.module={}),module.scrollSlide=function(){"use strict";function e(){window.addEventListener("scroll",s.scroll,!1),window.addEventListener("resize",s.resize,!1),FRONDEVO.browser.browser.firefox||$(window).on("mousewheel DOMMouseScroll",s.mouseWheel)}function t(){var e;n.$window=$(window),n.wrap=e=document.querySelector(".full-height.inner"),n.image=$(e).find("picture"),n.layout=$(e).find(".full-height__layout"),s.getSizes()}function o(o){t(),e()}var i,n={scrollTime:.3,scrollDistance:150,scrollActivity:1,maxScrollActivity:4,desktop:matchMedia("(min-width: 1024px)")},s={scroll:function(){var e=window.scrollTop||document.documentElement.scrollTop||document.body.scrollTop,t=1-e/n.height;0!==t&&(n.layout&&n.layout.style&&(n.layout.style.cssText="opacity: "+t+";transform: translate3d(0, "+(e-(1-t)*n.height/2)+"px, 0);"),n.image&&n.image.style&&(n.image.style.cssText="transform: scale("+(1+.3*(1-t))+") translate3d(0, 0, 0);"))},resize:function(){s.getSizes(),n.desktop.matches&&(n.layout&&n.layout.style&&(n.layout.style.cssText=""),n.layout&&n.image.style&&(n.image.style.cssText=""))},getSizes:function(){n.height=window.innerHeight},mouseWheel:function(e){var t,o=n.scrollDistance;if(i&&(i.isActive()?(t=.001*Math.abs(e.originalEvent.wheelDelta),n.scrollActivity*=1+t,n.scrollActivity=n.scrollActivity>n.maxScrollActivity?n.maxScrollActivity:n.scrollActivity,o=n.scrollDistance*n.scrollActivity):(n.scrollActivity=1,o=n.scrollDistance)),n.desktop.matches){e.preventDefault();var s=e.originalEvent.wheelDelta/120||-e.originalEvent.detail/3,l=n.$window.scrollTop(),p=l-parseInt(s*o);i=TweenMax.to(n.$window,n.scrollTime,{scrollTo:{y:p,autoKill:!0},ease:Power1.easeOut,autoKill:!0,overwrite:5})}}};return{init:o}}(),window.addEventListener("DOMContentLoaded",function(){module.scrollSlide.init({})},!1);var FRONDEVO={controls:{desktop:matchMedia("(min-width: 1024px)")},browser:function(){var e,t="",o=window.navigator.userAgent,i=window.navigator.platform,n={os:{win:!1,mac:!1,linux:!1,android:!1,ios:!1},browser:{opera:!1,ie:!1,firefox:!1,chrome:!1,safari:!1,android:!1},version:0};return/MSIE/.test(o)?(e=/MSIE \d+[.]\d+/.exec(o)[0].split(" ")[1],n.browser.ie=!0,n.version=parseInt(e,10)):/Android/.test(o)?(n.os.android=!0,n.browser.android=!0,/Chrome/.test(o)&&(e=/Chrome\/[\d\.]+/.exec(o)[0].split("/")[1],n.version=parseInt(e,10),n.browser.chrome=!0,n.browser.android=!1),/Firefox/.test(o)&&(e=/Firefox\/[\.\d]+/.exec(o)[0].split("/")[1],n.browser.firefox=!0,n.version=parseInt(e,10),n.browser.android=!1)):/Chrome/.test(o)?(e=/Chrome\/[\d\.]+/.exec(o)[0].split("/")[1],n.browser.chrome=!0,n.version=parseInt(e,10)):/Opera/.test(o)?n.browser.opera=!0:/Firefox/.test(o)?(e=/Firefox\/[\.\d]+/.exec(o)[0].split("/")[1],n.browser.firefox=!0,n.version=parseInt(e,10)):/Safari/.test(o)&&((/iPhone/.test(o)||/iPad/.test(o)||/iPod/.test(o))&&(n.os.ios=!0),n.browser.safari=!0),e||(e=/Version\/[\.\d]+/.exec(o),e?(e=e?e[0].split("/")[1]:/Opera\/[\.\d]+/.exec(o)[0].split("/")[1],n.version=parseInt(e,10)):document.all.length&&(n.version=11,n.browser.ie=!0)),"MacIntel"===i||"MacPPC"===i?n.os.mac=!0:"Win32"===i||"Win64"===i?n.os.win=!0:!t&&/Linux/.test(i)?n.os.linux=!0:!t&&/Windows/.test(o)?n.os.win=!0:!t&&/android/.test(o)&&(n.os.android=!0),n}(),global:{addEvents:function(e,t,o){var i,n=e.length;for(i=0;n>i;i++)e[i].addEventListener(t,o,!1)},touchScrollStart:function(e){"use strict";e.stopPropagation(),this.allowUp=this.scrollTop>0,this.allowDown=this.scrollTop<this.scrollHeight-this.clientHeight,this.lastY=e.touches[0].clientY},touchScrollProcessing:function(e){"use strict";if(!FRONDEVO.controls.desktop.matches){var t=e.touches[0].clientY>this.lastY,o=!t;this.lastY=e.touches[0].clientY,t&&this.allowUp||o&&this.allowDown?e.stopPropagation():(this.scrollHeight!==this.clientHeight||this.scrollHeight+1!==this.clientHeight)&&e.preventDefault()}},cover:function(e,t,o){"use strict";var i,n,s,l=t/o,p=0,a=0;e.style.display="none",e.style.width="auto",e.style.height="auto",e.style.top="",e.style.left="",e.removeAttribute("width"),e.removeAttribute("height"),e.style.display="",i=(e.width||e.videoWidth)/(e.height||e.videoHeight),l>=i?(n=t,s=t/i,p=(o-s)/2):(n=o*i,s=o,a=(t-n)/2),e.style.display="none",e.width=n,e.height=s,e.style.width=n+"px",e.style.height=s+"px",e.style.top=p+"px",e.style.left=a+"px",e.style.objectFit="unset",e.style.display=""},contain:function(e,t,o){"use strict";var i,n,s=t/o,l=e.width/e.height,p=0,a=0;s>=l?(i=o*l,n=o,a=(t-i)/2):(i=t,n=t/l,p=(o-n)/2),e.width=i,e.height=n,e.style.width=i+"px",e.style.height=n+"px",e.style.top=p+"px",e.style.left=a+"px"},fixFit:function(e){var t,o,i=e.length,n=FRONDEVO.global,s=n.cover,l=n.contain;if(!window.CSS||!CSS.supports("object-position","left top")||FRONDEVO.browser.browser.firefox)for(t=0;i>t;t++)o=e[t].parentNode,"cover"===e[t].getAttribute("data-fit")?s(e[t],o.clientWidth,o.clientHeight):l(e[t],o.clientWidth,o.clientHeight)},resizeForObjectFit:function(e){var t=FRONDEVO.controls,o=t.objectFitList;clearTimeout(t.resizeTimeout),t.resizeTimeout=setTimeout(function(){FRONDEVO.global.fixFit(o)},500)},transitionEnd:function(e){if(($(e.target).hasClass("tEndElement")||$(e.target).hasClass("tEndElement2"))&&$(e.target).data("tcallback")){var t=$(e.target).data("tcallback");e.originalEvent.propertyName.indexOf(t.prop)>-1&&"function"==typeof t.callback&&t.callback()}},transitionEnd2:function(e){if($(e.target).hasClass("tEl")&&$(e.target).data("tcallback")){var t=$(e.target).data("tcallback");console.log("!!!"),e.originalEvent.propertyName.indexOf(t.prop)>-1&&"function"==typeof t.callback&&t.callback()}},formSubmit:function(e){var t,o=e.target;return module.validation.check(o)?void(o.hasAttribute("data-ajax")&&(e.preventDefault(),$(o).addClass("loading"),t=new FormData(o),fetch(o.getAttribute("action"),{method:o.getAttribute("method"),body:t}).then(function(e){module.listener.exec(o.getAttribute("id"),e),TweenMax.to(window,.3,{scrollTo:{y:0},ease:Power1.easeOut})})["catch"](function(e){console.error("submit form error",e)}))):void e.preventDefault()},formApplicationReceive:function(e){var t=document.querySelector(".middle-text"),o=document.querySelector(".form-answer span");e.json().then(function(e){o.innerHTML=e.message,t.classList.add("response")})}},getControls:function(){var e=FRONDEVO.controls;e.siteWrap=document.querySelector(".site-wrap")},setEventList:function(){var e=FRONDEVO.controls,t=FRONDEVO.global,o=e.siteWrap;FRONDEVO.browser.os.ios&&(t.addEvents([o],"touchstart",t.touchScrollStart),t.addEvents([o],"touchmove",t.touchScrollProcessing),window.addEventListener("resize",t.resizeForObjectFit,!1)),$(document).on("transitionend",".tEndElement",t.transitionEnd),$(document).on("transitionend",".tEndElement2",t.transitionEnd2),window.addEventListener("submit",function(e){$("[data-fld-attr-required]").each(function(e,t){$.each(t.attributes,function(e,o){if(o.name.search("data-fld-attr-")>-1){var i=o.name.match(/data-fld-attr-(.+)/)[1];$(t).attr(i,"")}})}),t.formSubmit(e)},!1),window.module&&module.listener&&module.listener.add({name:"form-application",handler:t.formApplicationReceive}),$("input").on("blur",function(){var e=this;$.each(e.attributes,function(t,o){if(o.name.search("data-fld-attr-")>-1){var i=o.name.match(/data-fld-attr-(.+)/)[1];$(e).attr(i,"")}})}),$(".full-height__layout .arrow").on("click",function(){TweenMax.to($(window),1,{scrollTo:{y:.4*$(window).height()},ease:Power2.easeInOut})})},setConfig:function(){var e,t,o,i=FRONDEVO.controls,n=FRONDEVO.global;for(i.objectFitList=e=document.querySelectorAll("[data-fit]"),t=e.length,o=0;t>o;o++)e[o].onload=function(){n.fixFit([this])},e[o].complete&&n.fixFit([e[o]]);i.isMobDevice=/android|webos|iphone|ipad|ipod|blackberry|iemobile|touch|opera mini/i.test(navigator.userAgent.toLowerCase()),i.popup=new Popup,"function"==typeof FDWorks&&(i.works=new FDWorks),window.MainLoader&&(i.mainLoader=new MainLoader),window.viewportUnitsBuggyfill&&viewportUnitsBuggyfill.init(),window.ListScroll&&(window.scrollDelta={temp:0,now:1},i.listScroll=new ListScroll),window.ListScroll&&(i.projectsFilter=new ProjectsFilter)},objectFitPolyfill:function(){"object-fit"in document.body.style||$("[data-fd-object-fit]").each(function(e,t){var o=$(this).attr("src");$(t).addClass("invisible"),$(t).parent().css({background:"url("+o+")"})})},init:function(){window.addEventListener("DOMContentLoaded",function(){FRONDEVO.getControls(),FRONDEVO.setEventList(),FRONDEVO.setConfig(),FRONDEVO.objectFitPolyfill()},!1)}};FRONDEVO.init();
//# sourceMappingURL=project.min.js.map
