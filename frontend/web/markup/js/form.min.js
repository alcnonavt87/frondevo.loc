function Popup(e){"use strict";var t=this;return t.isMobDevice=t.isMobDevice=FRONDEVO?FRONDEVO.controls.isMobDevice:!1,t.elems={$menu:$(".header-menu").eq(0),$menuItems:$(".header-menu .m-item"),$popup:$(".fd__popup"),$popupHtml:$(".pop-content").html().replace(/style=\"display: none;\"/g,""),$hbMenu:$(".fd__hb-menu")},t.elems.$popup.remove(),t.settings={},$.extend(t.settings,e),t.popupCode=function(e,t,o){return e=e?e:"",t=t?t:"",o=o?o:"",'<div class="fd__popup tEndElement">    <div class="pop-wrap">        <div class="queue-wrap queueFromTop">            <h2 class="pop-title tEndElement queue queue1">'+e+'</h2>        </div>        <div class="pop-content queue-wrap queueFromBottom">'+t+'</div>        <div title="'+o+'" class="pop-btn-close"></div>    </div></div>'},t.popupMenuCode=function(e,o){return e=e?e:"",o=o?o:"",'<div class="fd__popup fd__popup_v2 tEndElement">    <div class="pop-wrap">'+t.elems.$popupHtml+'</div>    <div title="'+o+'" class="pop-btn-close">    <span></span>    </div></div>'},t.popups={},t.init(e),this}window.module||(window.module={}),module.validation=function(){"use strict";var e=function(){function e(e){function t(e){var t=!0;return e.trim().length||(t=!1),t}function o(e){var t,o,i,n=!0;return $(e).hasClass("ui-selectmenu")?(o=$(e).attr("id"),i=document.getElementById(o.replace("-button","")),t=i.options[i.selectedIndex].value):t=e.querySelector("input").value,t.length||(n=!1),n}function i(e){var t=/^[\-._a-z0-9]+@(?:[a-z0-9][\-a-z0-9]+\.)+[a-z]{2,6}$/i.test(e),o=!0;return t||(o=!1),o}function n(e){var o=t(e);return o?!isNaN(e):o}function a(e){var o=t(e.value),i=document.getElementById(e.getAttribute("data-compare"));return o?i&&e.value!==i.value?(i.parentNode.classList.add("invalid"),i.parentNode.hasAttribute("data-required")&&i.parentNode.classList.add("tooltip"),!1):!0:!1}var s,r=e.value,p=e.type,l=!0;switch(p){case"email":l=t(r),l&&(l=i(r),l||e.parentNode.hasAttribute("data-error")&&e.parentNode.classList.add("tooltip-error"));break;case"number":l=n(r);break;case"text":l=t(r);break;case"tel":l=t(r);break;case"select":l=o(e);break;case"password":l=a(e);break;default:l=t(r)}return l&&(s=e.getAttribute("data-condition"),s&&(l=!1,e.value.trim().split(" ").length>1&&(l=!0))),l}function t(t){var o;t.getAttribute("type");if("SELECT"!==t.tagName){if(!(t.offsetWidth>0&&t.offsetHeight>0))return!0}else{if(o=t.previousElementSibling,!(o.offsetWidth>0&&o.offsetHeight>0))return!0;if(-1===parseInt(t.value,10))return!1}return t.hasAttribute("disabled")||!t.hasAttribute("required")?!0:(t.hasAttribute("data-check")&&a(t),e(t))}function o(e){return t(e)}function i(e){setTimeout(function(){e.classList.remove("tooltip"),e.classList.remove("invalid"),e.classList.remove("tooltip-error")},3e3)}function n(e){setTimeout(function(){e.classList.remove("invalid")},3e3)}function a(e){var t=e.getAttribute("data-check");$.ajax({url:t,type:"get",data:"value="+e.value,dataType:"json",success:function(t){t.result||(e.parentNode.classList.add("invalid"),e.parentNode.hasAttribute("data-required")&&e.parentNode.classList.add("tooltip"))}})}function s(e,a){var s,r,p=e.querySelectorAll("input[required]"),l=p.length,u=e.querySelectorAll("textarea[required]"),c=u.length,d=e.querySelectorAll("select[required]"),f=d.length,m=!0,h=e.querySelectorAll('[type="checkbox"][required]'),v=h.length;for(s=0;l>s;s++)t(p[s])||(m=!1,p[s].parentNode.classList.add("invalid"),p[s].parentNode.hasAttribute("data-required")&&p[s].parentNode.classList.add("tooltip"),i(p[s].parentNode),r||(r=p[s]));for(s=0;c>s;s++)o(u[s])||(m=!1,u[s].parentNode.classList.add("invalid"),u[s].parentNode.hasAttribute("data-required")&&u[s].parentNode.classList.add("tooltip"),i(u[s].parentNode),r||(r=u[s]));for(s=0;f>s;s++)t(d[s])||(m=!1,d[s].parentNode.classList.add("invalid"),d[s].parentNode.hasAttribute("data-required")&&d[s].parentNode.classList.add("tooltip"),i(d[s].parentNode),r||(r=d[s]));for(s=0;v>s;s++)h[s].checked||(m=!1,h[s].parentNode.classList.add("invalid"),n(h[s].parentNode),r||(r=h[s]));return a&&r&&$("html,body").animate({scrollTop:$(r).parent().offset().top}),m}function r(){}return this.check=function(e,t){return s(e,t)},this.checkInput=function(e){return t(e)},r()};return new e}(),window.module||(window.module={}),module.listener=function(){"use strict";function e(e){o[e.name]?console.log("key is exist"):o[e.name]=e.handler}function t(e,t){o[e]&&o[e](t)}var o={};return{add:e,exec:t}}(),Popup.prototype={init:function(){"use strict";var e=this;return e.controls(),this},getMenuPopup:function(e){"use strict";var t=this,o=t.elems,i='<ul class="popup-menu">',n="";return o.$menuItems.each(function(e,t){var o={popup:$(t).find("a, span").attr("data-popup"),popupTitle:$(t).find("a, span").attr("data-popup-title"),popupClose:$(t).find("a, span").attr("data-popup-close")};if(o.popup&&(n=' data-popup="'+o.popup+'" data-popup-title="'+o.popupTitle+'" data-popup-close="'+o.popupClose+'"'),$(t).hasClass("active"))i+='<li class="pm-item active queue queue'+(e+1)+'"'+n+"><span>"+$(t).text()+"</span></li>";else{var a=$(t).find("a").eq(0);i+='<li class="pm-item queue queue'+(e+1)+'"'+n+'><a href="'+a.attr("href")+'">'+a.text()+"</a></li>"}}),i+="</ul>",t.popups.menu.code=i,"function"==typeof e&&e(),this},getPopupContent:function(e,t){"use strict";var o=this;if("menu"===e.popup)o.popups[e.popup]={title:e.title,close:e.close,popup:e.popup},o.getMenuPopup(function(){"function"==typeof t&&t(e.popup)});else{e.url?e.url:"popup/";o.popups[e.popup]={title:e.title,close:e.close,popup:e.popup,code:o.elems.$popupHtml},"function"==typeof t&&t(e.popup)}return this},openPopup:function(e){"use strict";var t=this,o={};switch(e){case"gmenu":o=$(t.popupMenuCode(t.popups[e].code,t.popups[e].close));break;default:o=$(t.popupCode(t.popups[e].title,t.popups[e].code,t.popups[e].close))}return t.elems.$popup=o,t.elems.$popupTitleWrap=o.find(".pop-title").eq(0).parent(),t.elems.$popupContent=o.find(".pop-wrap").eq(0),t.elems.$popupContent.removeClass("animate in"),t.elems.$popupTitleWrap.removeClass("animate in"),$("html").addClass("no-scroll"),$("body").append(o),setTimeout(function(){o.addClass("visible"),t.elems.$hbMenu.addClass("hidden"),setTimeout(function(){t.elems.$popup.find(".queue-wrap").addClass("animate in")})},100),this},closePopup:function(){"use strict";var e=this,t=e.elems.$popup.find(".pop-title").length?e.elems.$popup.find(".pop-title"):e.elems.$popupContent.find(".fd__stripe").eq(0);return e.elems.$popup.find(".queue-wrap").removeClass("in"),t.data("tcallback",{prop:"opacity",callback:function(){e.elems.$popup.removeClass("visible"),e.elems.$hbMenu.removeClass("hidden"),$("html").removeClass("no-scroll"),e.elems.$popup.data("tcallback",{prop:"opacity",callback:function(){e.elems.$popup.remove(),e.elems.$popup=null}}),t.data("tcallback",null)}}),this},updateContent:function(e){"use strict";var t=this,o=t.elems.$popup.find(".pop-title"),i=t.elems.$popup.find(".queue-wrap");return i.eq(0).removeClass("in"),i.eq(1).removeClass("in"),o.data("tcallback",{prop:"opacity",callback:function(){t.getPopupContent(e,function(){t.elems.$popupContent.empty().append(t.popups[e.popup].code),o.html(e.title),i=t.elems.$popup.find(".queue-wrap"),t.elems.$popupTitleWrap=t.elems.$popup.find(".pop-title").eq(0).parent(),t.elems.$popupContent=t.elems.$popup.find(".pop-content").eq(0),i.eq(0).addClass("queueFromTop"),i.eq(1).addClass("queueFromBottom"),setTimeout(function(){i.eq(0).addClass("in"),i.eq(1).addClass("in"),t.elems.$popup.find(".pop-title").data("tcallback",null)},100)})}}),!1},createPopupObject:function(e){"use strict";var t=this;return t.elems.$popup?(e.title=$obj.attr("data-popup-title"),t.updateContent(e)):t.popups[e.popup]?t.openPopup(e.popup):t.getPopupContent(e,function(e){t.openPopup(e)}),this},controls:function(){"use strict";var e=this,t=e.isMobDevice?"touchend MSPointerDown click":"click";return $(document).on(t,"[data-popup]",function(t){e.elems.$popup&&(e.elems.$popup.remove(),e.elems.$popup=null);var o=$(this),i={popup:o.attr("data-popup"),title:o.attr("data-popup-title"),close:o.attr("data-popup-close"),url:o.attr("data-popup-url")};e.createPopupObject(i),t.preventDefault()}),$(document).on(t,".pop-btn-close",function(t){e.closePopup()}),this}};var FRONDEVO={controls:{desktop:matchMedia("(min-width: 1024px)")},browser:function(){var e,t="",o=window.navigator.userAgent,i=window.navigator.platform,n={os:{win:!1,mac:!1,linux:!1,android:!1,ios:!1},browser:{opera:!1,ie:!1,firefox:!1,chrome:!1,safari:!1,android:!1},version:0};return/MSIE/.test(o)?(e=/MSIE \d+[.]\d+/.exec(o)[0].split(" ")[1],n.browser.ie=!0,n.version=parseInt(e,10)):/Android/.test(o)?(n.os.android=!0,n.browser.android=!0,/Chrome/.test(o)&&(e=/Chrome\/[\d\.]+/.exec(o)[0].split("/")[1],n.version=parseInt(e,10),n.browser.chrome=!0,n.browser.android=!1),/Firefox/.test(o)&&(e=/Firefox\/[\.\d]+/.exec(o)[0].split("/")[1],n.browser.firefox=!0,n.version=parseInt(e,10),n.browser.android=!1)):/Chrome/.test(o)?(e=/Chrome\/[\d\.]+/.exec(o)[0].split("/")[1],n.browser.chrome=!0,n.version=parseInt(e,10)):/Opera/.test(o)?n.browser.opera=!0:/Firefox/.test(o)?(e=/Firefox\/[\.\d]+/.exec(o)[0].split("/")[1],n.browser.firefox=!0,n.version=parseInt(e,10)):/Safari/.test(o)&&((/iPhone/.test(o)||/iPad/.test(o)||/iPod/.test(o))&&(n.os.ios=!0),n.browser.safari=!0),e||(e=/Version\/[\.\d]+/.exec(o),e?(e=e?e[0].split("/")[1]:/Opera\/[\.\d]+/.exec(o)[0].split("/")[1],n.version=parseInt(e,10)):document.all.length&&(n.version=11,n.browser.ie=!0)),"MacIntel"===i||"MacPPC"===i?n.os.mac=!0:"Win32"===i||"Win64"===i?n.os.win=!0:!t&&/Linux/.test(i)?n.os.linux=!0:!t&&/Windows/.test(o)?n.os.win=!0:!t&&/android/.test(o)&&(n.os.android=!0),n}(),global:{addEvents:function(e,t,o){var i,n=e.length;for(i=0;n>i;i++)e[i].addEventListener(t,o,!1)},touchScrollStart:function(e){"use strict";e.stopPropagation(),this.allowUp=this.scrollTop>0,this.allowDown=this.scrollTop<this.scrollHeight-this.clientHeight,this.lastY=e.touches[0].clientY},touchScrollProcessing:function(e){"use strict";if(!FRONDEVO.controls.desktop.matches){var t=e.touches[0].clientY>this.lastY,o=!t;this.lastY=e.touches[0].clientY,t&&this.allowUp||o&&this.allowDown?e.stopPropagation():(this.scrollHeight!==this.clientHeight||this.scrollHeight+1!==this.clientHeight)&&e.preventDefault()}},cover:function(e,t,o){"use strict";var i,n,a,s=t/o,r=0,p=0;e.style.display="none",e.style.width="auto",e.style.height="auto",e.style.top="",e.style.left="",e.removeAttribute("width"),e.removeAttribute("height"),e.style.display="",i=(e.width||e.videoWidth)/(e.height||e.videoHeight),s>=i?(n=t,a=t/i,r=(o-a)/2):(n=o*i,a=o,p=(t-n)/2),e.style.display="none",e.width=n,e.height=a,e.style.width=n+"px",e.style.height=a+"px",e.style.top=r+"px",e.style.left=p+"px",e.style.objectFit="unset",e.style.display=""},contain:function(e,t,o){"use strict";var i,n,a=t/o,s=e.width/e.height,r=0,p=0;a>=s?(i=o*s,n=o,p=(t-i)/2):(i=t,n=t/s,r=(o-n)/2),e.width=i,e.height=n,e.style.width=i+"px",e.style.height=n+"px",e.style.top=r+"px",e.style.left=p+"px"},fixFit:function(e){var t,o,i=e.length,n=FRONDEVO.global,a=n.cover,s=n.contain;if(!window.CSS||!CSS.supports("object-position","left top")||FRONDEVO.browser.browser.firefox)for(t=0;i>t;t++)o=e[t].parentNode,"cover"===e[t].getAttribute("data-fit")?a(e[t],o.clientWidth,o.clientHeight):s(e[t],o.clientWidth,o.clientHeight)},resizeForObjectFit:function(e){var t=FRONDEVO.controls,o=t.objectFitList;clearTimeout(t.resizeTimeout),t.resizeTimeout=setTimeout(function(){FRONDEVO.global.fixFit(o)},500)},transitionEnd:function(e){if(($(e.target).hasClass("tEndElement")||$(e.target).hasClass("tEndElement2"))&&$(e.target).data("tcallback")){var t=$(e.target).data("tcallback");e.originalEvent.propertyName.indexOf(t.prop)>-1&&"function"==typeof t.callback&&t.callback()}},transitionEnd2:function(e){if($(e.target).hasClass("tEl")&&$(e.target).data("tcallback")){var t=$(e.target).data("tcallback");console.log("!!!"),e.originalEvent.propertyName.indexOf(t.prop)>-1&&"function"==typeof t.callback&&t.callback()}},formSubmit:function(e){var t,o=e.target;return module.validation.check(o)?void(o.hasAttribute("data-ajax")&&(e.preventDefault(),$(o).addClass("loading"),t=new FormData(o),fetch(o.getAttribute("action"),{method:o.getAttribute("method"),body:t}).then(function(e){module.listener.exec(o.getAttribute("id"),e),TweenMax.to(window,.3,{scrollTo:{y:0},ease:Power1.easeOut})})["catch"](function(e){console.error("submit form error",e)}))):void e.preventDefault()},formApplicationReceive:function(e){var t=document.querySelector(".middle-text"),o=document.querySelector(".form-answer span");e.json().then(function(e){o.innerHTML=e.message,t.classList.add("response")})}},getControls:function(){var e=FRONDEVO.controls;e.siteWrap=document.querySelector(".site-wrap")},setEventList:function(){var e=FRONDEVO.controls,t=FRONDEVO.global,o=e.siteWrap;FRONDEVO.browser.os.ios&&(t.addEvents([o],"touchstart",t.touchScrollStart),t.addEvents([o],"touchmove",t.touchScrollProcessing),window.addEventListener("resize",t.resizeForObjectFit,!1)),$(document).on("transitionend",".tEndElement",t.transitionEnd),$(document).on("transitionend",".tEndElement2",t.transitionEnd2),window.addEventListener("submit",function(e){$("[data-fld-attr-required]").each(function(e,t){$.each(t.attributes,function(e,o){if(o.name.search("data-fld-attr-")>-1){var i=o.name.match(/data-fld-attr-(.+)/)[1];$(t).attr(i,"")}})}),t.formSubmit(e)},!1),window.module&&module.listener&&module.listener.add({name:"form-application",handler:t.formApplicationReceive}),$("input").on("blur",function(){var e=this;$.each(e.attributes,function(t,o){if(o.name.search("data-fld-attr-")>-1){var i=o.name.match(/data-fld-attr-(.+)/)[1];$(e).attr(i,"")}})}),$(".full-height__layout .arrow").on("click",function(){TweenMax.to($(window),1,{scrollTo:{y:.4*$(window).height()},ease:Power2.easeInOut})})},setConfig:function(){var e,t,o,i=FRONDEVO.controls,n=FRONDEVO.global;for(i.objectFitList=e=document.querySelectorAll("[data-fit]"),t=e.length,o=0;t>o;o++)e[o].onload=function(){n.fixFit([this])},e[o].complete&&n.fixFit([e[o]]);i.isMobDevice=/android|webos|iphone|ipad|ipod|blackberry|iemobile|touch|opera mini/i.test(navigator.userAgent.toLowerCase()),i.popup=new Popup,"function"==typeof FDWorks&&(i.works=new FDWorks),window.MainLoader&&(i.mainLoader=new MainLoader),window.viewportUnitsBuggyfill&&viewportUnitsBuggyfill.init(),window.ListScroll&&(window.scrollDelta={temp:0,now:1},i.listScroll=new ListScroll),window.ListScroll&&(i.projectsFilter=new ProjectsFilter)},objectFitPolyfill:function(){"object-fit"in document.body.style||$("[data-fd-object-fit]").each(function(e,t){var o=$(this).attr("src");$(t).addClass("invisible"),$(t).parent().css({background:"url("+o+")"})})},init:function(){window.addEventListener("DOMContentLoaded",function(){FRONDEVO.getControls(),FRONDEVO.setEventList(),FRONDEVO.setConfig(),FRONDEVO.objectFitPolyfill()},!1)}};FRONDEVO.init();
//# sourceMappingURL=form.min.js.map
