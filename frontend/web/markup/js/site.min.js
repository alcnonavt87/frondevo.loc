function Scrollers(t){"use strict";var e=this;return e.elems={$scrolls:$(".hor-wrapper")},e.elems.$scrolls.length?(e.settings={wToggle:768},$.extend(e.settings,t),e.cycleScroll=[],e.isMobDevice=!1,e.init(t),this):null}function Popup(t){"use strict";var e=this;return e.isMobDevice=e.isMobDevice=FRONDEVO?FRONDEVO.controls.isMobDevice:!1,e.elems={$menu:$(".header-menu").eq(0),$menuItems:$(".header-menu .m-item"),$popup:$(".fd__popup"),$popupHtml:$(".pop-content").html().replace(/style=\"display: none;\"/g,""),$hbMenu:$(".fd__hb-menu")},e.elems.$popup.remove(),e.settings={},$.extend(e.settings,t),e.popupCode=function(t,e,o){return t=t?t:"",e=e?e:"",o=o?o:"",'<div class="fd__popup tEndElement">    <div class="pop-wrap">        <div class="queue-wrap queueFromTop">            <h2 class="pop-title tEndElement queue queue1">'+t+'</h2>        </div>        <div class="pop-content queue-wrap queueFromBottom">'+e+'</div>        <div title="'+o+'" class="pop-btn-close"></div>    </div></div>'},e.popupMenuCode=function(t,o){return t=t?t:"",o=o?o:"",'<div class="fd__popup fd__popup_v2 tEndElement">    <div class="pop-wrap">'+e.elems.$popupHtml+'</div>    <div title="'+o+'" class="pop-btn-close">    <span></span>    </div></div>'},e.popups={},e.init(t),this}function FDWorks(t){"use strict";var e=this;return e.elems={$workList:$("[data-fd-works-menu-list]")},e.id=e.elems.$workList.attr("data-fd-works-menu-list"),e.elems.$works=$("[data-fd-works-list="+e.id+"]"),e.elems.$static=e.elems.$works.find("[data-fd-static-works]"),e.settings={},$.extend(e.settings,t),e.action=e.elems.$workList.attr("data-fd-works-action"),e.init(t),this}Scrollers.prototype={init:function(){"use strict";var t=this;return t.resizeScrollers(),t.controls(),this},resizeScrollers:function(){"use strict";var t=this;return t.elems.$scrolls.each(function(e,o){var i=$(o).find(".hor-scroller").eq(0),s=$(o).find(".hor-sizing"),n=$(o).find(".hor-snap"),a=$(o).find(".hor-snap-mobile"),r=0,l=t.settings.wToggle;s.length&&(s.each(function(t,e){r+=$(e).width()+parseInt($(e).css("margin-left"))+parseInt($(e).css("margin-right"))+parseInt($(e).css("padding-left"))+parseInt($(e).css("padding-right"))}),r+=parseInt(s.eq(0).css("margin-left"))+parseInt(s.eq(0).css("padding-left"))),i.css({width:r}),t.cycleScroll[e]&&(t.cycleScroll[e].destroy(),t.cycleScroll[e]=null,t.cycleScroll.splice(e,1)),setTimeout(function(){var e=$(o).attr("data-indicators"),s=e?$("#"+e).find(".hor-ind"):[],r={scrollX:!0,scrollY:!1,useTransform:!0,interactiveScrollbars:!0,scrollbars:i.hasClass("hor-scrollbar")?"custom":!1,resizeScrollbars:!1};s.length&&(r.indicators=[{el:s.eq(0).parent()[0],ignoreBoundaries:!0,speedRatioX:.2,resize:!1,listenY:!1},{el:s.eq(1).parent()[0],ignoreBoundaries:!0,speedRatioX:.5,resize:!1,listenY:!1}]),t.isMobDevice&&$.extend(r,{useTransform:!0,useTransition:!1,interactiveScrollbars:!1,eventPassthrough:!0}),a.length&&t.isMobDevice&&$(window).width()<l&&n.length&&$.extend(r,{snap:".hor-snap"});var c={};t.cycleScroll.push(c=new IScroll(o,r)),c.off("scrollStart"),c.off("scrollEnd"),c.on("scrollStart",function(){$(o).addClass("dragging")}),c.on("scrollEnd",function(){$(o).removeClass("dragging")})})}),this},controls:function(){"use strict";var t,e=this;return $(window).on({resize:function(){e.cycleScroll.length&&(clearTimeout(t),t=setTimeout(function(){e.resizeScrollers()},200))}}),$(document).on({click:function(t){t.preventDefault()}},".dragging"),$(document).on({mousedown:function(t){$(this).addClass("catched")},mouseup:function(t){$(this).removeClass("catched")}},".hor-wrapper"),this}},window.addEventListener("DOMContentLoaded",function(){window.scrollers=new Scrollers},!1),Popup.prototype={init:function(){"use strict";var t=this;return t.controls(),this},getMenuPopup:function(t){"use strict";var e=this,o=e.elems,i='<ul class="popup-menu">',s="";return o.$menuItems.each(function(t,e){var o={popup:$(e).find("a, span").attr("data-popup"),popupTitle:$(e).find("a, span").attr("data-popup-title"),popupClose:$(e).find("a, span").attr("data-popup-close")};if(o.popup&&(s=' data-popup="'+o.popup+'" data-popup-title="'+o.popupTitle+'" data-popup-close="'+o.popupClose+'"'),$(e).hasClass("active"))i+='<li class="pm-item active queue queue'+(t+1)+'"'+s+"><span>"+$(e).text()+"</span></li>";else{var n=$(e).find("a").eq(0);i+='<li class="pm-item queue queue'+(t+1)+'"'+s+'><a href="'+n.attr("href")+'">'+n.text()+"</a></li>"}}),i+="</ul>",e.popups.menu.code=i,"function"==typeof t&&t(),this},getPopupContent:function(t,e){"use strict";var o=this;if("menu"===t.popup)o.popups[t.popup]={title:t.title,close:t.close,popup:t.popup},o.getMenuPopup(function(){"function"==typeof e&&e(t.popup)});else{t.url?t.url:"popup/";o.popups[t.popup]={title:t.title,close:t.close,popup:t.popup,code:o.elems.$popupHtml},"function"==typeof e&&e(t.popup)}return this},openPopup:function(t){"use strict";var e=this,o={};switch(t){case"gmenu":o=$(e.popupMenuCode(e.popups[t].code,e.popups[t].close));break;default:o=$(e.popupCode(e.popups[t].title,e.popups[t].code,e.popups[t].close))}return e.elems.$popup=o,e.elems.$popupTitleWrap=o.find(".pop-title").eq(0).parent(),e.elems.$popupContent=o.find(".pop-wrap").eq(0),e.elems.$popupContent.removeClass("animate in"),e.elems.$popupTitleWrap.removeClass("animate in"),$("html").addClass("no-scroll"),$("body").append(o),setTimeout(function(){o.addClass("visible"),e.elems.$hbMenu.addClass("hidden"),setTimeout(function(){e.elems.$popup.find(".queue-wrap").addClass("animate in")})},100),this},closePopup:function(){"use strict";var t=this,e=t.elems.$popup.find(".pop-title").length?t.elems.$popup.find(".pop-title"):t.elems.$popupContent.find(".fd__stripe").eq(0);return t.elems.$popup.find(".queue-wrap").removeClass("in"),e.data("tcallback",{prop:"opacity",callback:function(){t.elems.$popup.removeClass("visible"),t.elems.$hbMenu.removeClass("hidden"),$("html").removeClass("no-scroll"),t.elems.$popup.data("tcallback",{prop:"opacity",callback:function(){t.elems.$popup.remove(),t.elems.$popup=null}}),e.data("tcallback",null)}}),this},updateContent:function(t){"use strict";var e=this,o=e.elems.$popup.find(".pop-title"),i=e.elems.$popup.find(".queue-wrap");return i.eq(0).removeClass("in"),i.eq(1).removeClass("in"),o.data("tcallback",{prop:"opacity",callback:function(){e.getPopupContent(t,function(){e.elems.$popupContent.empty().append(e.popups[t.popup].code),o.html(t.title),i=e.elems.$popup.find(".queue-wrap"),e.elems.$popupTitleWrap=e.elems.$popup.find(".pop-title").eq(0).parent(),e.elems.$popupContent=e.elems.$popup.find(".pop-content").eq(0),i.eq(0).addClass("queueFromTop"),i.eq(1).addClass("queueFromBottom"),setTimeout(function(){i.eq(0).addClass("in"),i.eq(1).addClass("in"),e.elems.$popup.find(".pop-title").data("tcallback",null)},100)})}}),!1},createPopupObject:function(t){"use strict";var e=this;return e.elems.$popup?(t.title=$obj.attr("data-popup-title"),e.updateContent(t)):e.popups[t.popup]?e.openPopup(t.popup):e.getPopupContent(t,function(t){e.openPopup(t)}),this},controls:function(){"use strict";var t=this,e=t.isMobDevice?"touchend MSPointerDown click":"click";return $(document).on(e,"[data-popup]",function(e){t.elems.$popup&&(t.elems.$popup.remove(),t.elems.$popup=null);var o=$(this),i={popup:o.attr("data-popup"),title:o.attr("data-popup-title"),close:o.attr("data-popup-close"),url:o.attr("data-popup-url")};t.createPopupObject(i),e.preventDefault()}),$(document).on(e,".pop-btn-close",function(e){t.closePopup()}),this}},FDWorks.prototype={init:function(){var t=this;return t.controls(),this},replaceWorks:function(t){function e(t){var e='<div class="dynamic_works" data-fd-dynamic-works>';return $.each(t,function(t,o){e+="<ul>",$.each(o,function(t,o){var i="";$.each(o.items,function(t,e){i+="<span>"+e+"</span>"}),e+='<li class="tEndElement2" data-fd-works-item>   <a href="'+o.href+'">       <img src="'+o.img+'" alt=""/>       <div>           <div class="our-works__descr">'+i+"</div>       </div>   </a></li>"}),e+="</ul>"}),e+"</div>"}function o(){var t=a.clone(!0);n.elems.$works.removeClass("fd_work_list_show"),n.locked=!1,n.elems.$static.remove(),t.removeAttr("data-fd-dynamic-works").attr("data-fd-static-works","").removeAttr("style").attr({"class":"static_works"}),a.replaceWith(t),n.elems.$static=t,a.find("li").removeAttr("style")}function i(){var t=n.elems.$works.find("[data-fd-dynamic-works] li"),e=t.length;a=n.elems.$works.find("[data-fd-dynamic-works]"),a.show().css({width:n.elems.$static.width(),top:n.elems.$static.position().top+10,left:n.elems.$static.position().left}),t=a.find("li"),t.each(function(t,i){var s=1*Math.random()+1,n=100,a=[90*Math.random()-45,90*Math.random()-45,90*Math.random()-45];$(i).css({opacity:0,transform:"scale("+s+", "+s+") translate3d("+(Math.random()*n-.5*n)+"px, "+(Math.random()*n-.5*n)+"px, "+(Math.random()*n-.5*n)+"px)  rotateX("+a[0]+"deg) rotateY("+a[1]+"deg) rotateZ("+a[2]+"deg)"}),$(i).data("tcallback",{prop:"opacity",callback:function(){e--,0===e&&0===l&&o()}})}),setTimeout(function(){a.addClass("fd_work_list_show"),setTimeout(function(){t.css({opacity:1,transform:"scale(1,1) translate3d(0,0,0)"})},100)},100)}var s,n=this,a={},r=n.elems.$static.find("li"),l=r.length;return n.locked=!0,s=e(t),n.elems.$works.append(s),n.elems.$static.addClass("fd_work_list_hide"),r.each(function(t,e){var o=.2*Math.random()+.7,i=100,s=[90*Math.random()-45,90*Math.random()-45,90*Math.random()-45];$(e).css({opacity:0,transform:"scale("+o+", "+o+") translate3d("+(Math.random()*i-.5*i)+"px, "+(Math.random()*i-.5*i)+"px, "+(Math.random()*i-.5*i)+"px) rotateX("+s[0]+"deg) rotateY("+s[1]+"deg) rotateZ("+s[2]+"deg)"}),$(e).data("tcallback",{prop:"opacity",callback:function(){l--}})}),setTimeout(function(){i()},100),this},setActive:function(t){var e=t.parents("[data-fd-works-menu-list]").eq(0),o=e.find("[data-fd-works-menu-item]");return o.filter(".active").removeClass("active"),t.addClass("active"),this},getWorks:function(t,e){var o=this;return fetch(o.action,{method:"post",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({type:t})}).then(function(t){return t.json()}).then(function(t){o.setActive(e),o.replaceWorks(t)})["catch"](function(t){console.log("error")}),this},controls:function(){var t=this;return $(document).on("click","[data-fd-works-filter]",function(e){if(e.preventDefault(),!t.locked){var o=$(this).attr("data-fd-works-filter"),i=$(this).parents("[data-fd-works-menu-item]").eq(0);t.getWorks(o,i)}}),this}},window.module||(window.module={}),module.scrollSlide=function(){"use strict";function t(){window.addEventListener("scroll",n.scroll,!1),window.addEventListener("resize",n.resize,!1),FRONDEVO.browser.browser.firefox||$(window).on("mousewheel DOMMouseScroll",n.mouseWheel)}function e(){var t;s.$window=$(window),s.wrap=t=document.querySelector(".full-height.inner"),s.image=$(t).find("picture"),s.layout=$(t).find(".full-height__layout"),n.getSizes()}function o(o){e(),t()}var i,s={scrollTime:.3,scrollDistance:150,scrollActivity:1,maxScrollActivity:4,desktop:matchMedia("(min-width: 1024px)")},n={scroll:function(){var t=window.scrollTop||document.documentElement.scrollTop||document.body.scrollTop,e=1-t/s.height;0!==e&&(s.layout&&s.layout.style&&(s.layout.style.cssText="opacity: "+e+";transform: translate3d(0, "+(t-(1-e)*s.height/2)+"px, 0);"),s.image&&s.image.style&&(s.image.style.cssText="transform: scale("+(1+.3*(1-e))+") translate3d(0, 0, 0);"))},resize:function(){n.getSizes(),s.desktop.matches&&(s.layout&&s.layout.style&&(s.layout.style.cssText=""),s.layout&&s.image.style&&(s.image.style.cssText=""))},getSizes:function(){s.height=window.innerHeight},mouseWheel:function(t){var e,o=s.scrollDistance;if(i&&(i.isActive()?(e=.001*Math.abs(t.originalEvent.wheelDelta),s.scrollActivity*=1+e,s.scrollActivity=s.scrollActivity>s.maxScrollActivity?s.maxScrollActivity:s.scrollActivity,o=s.scrollDistance*s.scrollActivity):(s.scrollActivity=1,o=s.scrollDistance)),s.desktop.matches){t.preventDefault();var n=t.originalEvent.wheelDelta/120||-t.originalEvent.detail/3,a=s.$window.scrollTop(),r=a-parseInt(n*o);i=TweenMax.to(s.$window,s.scrollTime,{scrollTo:{y:r,autoKill:!0},ease:Power1.easeOut,autoKill:!0,overwrite:5})}}};return{init:o}}(),window.addEventListener("DOMContentLoaded",function(){module.scrollSlide.init({})},!1);var FRONDEVO={controls:{desktop:matchMedia("(min-width: 1024px)")},browser:function(){var t,e="",o=window.navigator.userAgent,i=window.navigator.platform,s={os:{win:!1,mac:!1,linux:!1,android:!1,ios:!1},browser:{opera:!1,ie:!1,firefox:!1,chrome:!1,safari:!1,android:!1},version:0};return/MSIE/.test(o)?(t=/MSIE \d+[.]\d+/.exec(o)[0].split(" ")[1],s.browser.ie=!0,s.version=parseInt(t,10)):/Android/.test(o)?(s.os.android=!0,s.browser.android=!0,/Chrome/.test(o)&&(t=/Chrome\/[\d\.]+/.exec(o)[0].split("/")[1],s.version=parseInt(t,10),s.browser.chrome=!0,s.browser.android=!1),/Firefox/.test(o)&&(t=/Firefox\/[\.\d]+/.exec(o)[0].split("/")[1],s.browser.firefox=!0,s.version=parseInt(t,10),s.browser.android=!1)):/Chrome/.test(o)?(t=/Chrome\/[\d\.]+/.exec(o)[0].split("/")[1],s.browser.chrome=!0,s.version=parseInt(t,10)):/Opera/.test(o)?s.browser.opera=!0:/Firefox/.test(o)?(t=/Firefox\/[\.\d]+/.exec(o)[0].split("/")[1],s.browser.firefox=!0,s.version=parseInt(t,10)):/Safari/.test(o)&&((/iPhone/.test(o)||/iPad/.test(o)||/iPod/.test(o))&&(s.os.ios=!0),s.browser.safari=!0),t||(t=/Version\/[\.\d]+/.exec(o),t?(t=t?t[0].split("/")[1]:/Opera\/[\.\d]+/.exec(o)[0].split("/")[1],s.version=parseInt(t,10)):document.all.length&&(s.version=11,s.browser.ie=!0)),"MacIntel"===i||"MacPPC"===i?s.os.mac=!0:"Win32"===i||"Win64"===i?s.os.win=!0:!e&&/Linux/.test(i)?s.os.linux=!0:!e&&/Windows/.test(o)?s.os.win=!0:!e&&/android/.test(o)&&(s.os.android=!0),s}(),global:{addEvents:function(t,e,o){var i,s=t.length;for(i=0;s>i;i++)t[i].addEventListener(e,o,!1)},touchScrollStart:function(t){"use strict";t.stopPropagation(),this.allowUp=this.scrollTop>0,this.allowDown=this.scrollTop<this.scrollHeight-this.clientHeight,this.lastY=t.touches[0].clientY},touchScrollProcessing:function(t){"use strict";if(!FRONDEVO.controls.desktop.matches){var e=t.touches[0].clientY>this.lastY,o=!e;this.lastY=t.touches[0].clientY,e&&this.allowUp||o&&this.allowDown?t.stopPropagation():(this.scrollHeight!==this.clientHeight||this.scrollHeight+1!==this.clientHeight)&&t.preventDefault()}},cover:function(t,e,o){"use strict";var i,s,n,a=e/o,r=0,l=0;t.style.display="none",t.style.width="auto",t.style.height="auto",t.style.top="",t.style.left="",t.removeAttribute("width"),t.removeAttribute("height"),t.style.display="",i=(t.width||t.videoWidth)/(t.height||t.videoHeight),a>=i?(s=e,n=e/i,r=(o-n)/2):(s=o*i,n=o,l=(e-s)/2),t.style.display="none",t.width=s,t.height=n,t.style.width=s+"px",t.style.height=n+"px",t.style.top=r+"px",t.style.left=l+"px",t.style.objectFit="unset",t.style.display=""},contain:function(t,e,o){"use strict";var i,s,n=e/o,a=t.width/t.height,r=0,l=0;n>=a?(i=o*a,s=o,l=(e-i)/2):(i=e,s=e/a,r=(o-s)/2),t.width=i,t.height=s,t.style.width=i+"px",t.style.height=s+"px",t.style.top=r+"px",t.style.left=l+"px"},fixFit:function(t){var e,o,i=t.length,s=FRONDEVO.global,n=s.cover,a=s.contain;if(!window.CSS||!CSS.supports("object-position","left top")||FRONDEVO.browser.browser.firefox)for(e=0;i>e;e++)o=t[e].parentNode,"cover"===t[e].getAttribute("data-fit")?n(t[e],o.clientWidth,o.clientHeight):a(t[e],o.clientWidth,o.clientHeight)},resizeForObjectFit:function(t){var e=FRONDEVO.controls,o=e.objectFitList;clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout(function(){FRONDEVO.global.fixFit(o)},500)},transitionEnd:function(t){if(($(t.target).hasClass("tEndElement")||$(t.target).hasClass("tEndElement2"))&&$(t.target).data("tcallback")){var e=$(t.target).data("tcallback");t.originalEvent.propertyName.indexOf(e.prop)>-1&&"function"==typeof e.callback&&e.callback()}},transitionEnd2:function(t){if($(t.target).hasClass("tEl")&&$(t.target).data("tcallback")){var e=$(t.target).data("tcallback");console.log("!!!"),t.originalEvent.propertyName.indexOf(e.prop)>-1&&"function"==typeof e.callback&&e.callback()}},formSubmit:function(t){var e,o=t.target;return module.validation.check(o)?void(o.hasAttribute("data-ajax")&&(t.preventDefault(),$(o).addClass("loading"),e=new FormData(o),fetch(o.getAttribute("action"),{method:o.getAttribute("method"),body:e}).then(function(t){module.listener.exec(o.getAttribute("id"),t),TweenMax.to(window,.3,{scrollTo:{y:0},ease:Power1.easeOut})})["catch"](function(t){console.error("submit form error",t)}))):void t.preventDefault()},formApplicationReceive:function(t){var e=document.querySelector(".middle-text"),o=document.querySelector(".form-answer span");t.json().then(function(t){o.innerHTML=t.message,e.classList.add("response")})}},getControls:function(){var t=FRONDEVO.controls;t.siteWrap=document.querySelector(".site-wrap")},setEventList:function(){var t=FRONDEVO.controls,e=FRONDEVO.global,o=t.siteWrap;FRONDEVO.browser.os.ios&&(e.addEvents([o],"touchstart",e.touchScrollStart),e.addEvents([o],"touchmove",e.touchScrollProcessing),window.addEventListener("resize",e.resizeForObjectFit,!1)),$(document).on("transitionend",".tEndElement",e.transitionEnd),$(document).on("transitionend",".tEndElement2",e.transitionEnd2),window.addEventListener("submit",function(t){$("[data-fld-attr-required]").each(function(t,e){$.each(e.attributes,function(t,o){if(o.name.search("data-fld-attr-")>-1){var i=o.name.match(/data-fld-attr-(.+)/)[1];$(e).attr(i,"")}})}),e.formSubmit(t)},!1),window.module&&module.listener&&module.listener.add({name:"form-application",handler:e.formApplicationReceive}),$("input").on("blur",function(){var t=this;$.each(t.attributes,function(e,o){if(o.name.search("data-fld-attr-")>-1){var i=o.name.match(/data-fld-attr-(.+)/)[1];$(t).attr(i,"")}})}),$(".full-height__layout .arrow").on("click",function(){TweenMax.to($(window),1,{scrollTo:{y:.4*$(window).height()},ease:Power2.easeInOut})})},setConfig:function(){var t,e,o,i=FRONDEVO.controls,s=FRONDEVO.global;for(i.objectFitList=t=document.querySelectorAll("[data-fit]"),e=t.length,o=0;e>o;o++)t[o].onload=function(){s.fixFit([this])},t[o].complete&&s.fixFit([t[o]]);i.isMobDevice=/android|webos|iphone|ipad|ipod|blackberry|iemobile|touch|opera mini/i.test(navigator.userAgent.toLowerCase()),i.popup=new Popup,"function"==typeof FDWorks&&(i.works=new FDWorks),window.MainLoader&&(i.mainLoader=new MainLoader),window.viewportUnitsBuggyfill&&viewportUnitsBuggyfill.init(),window.ListScroll&&(window.scrollDelta={temp:0,now:1},i.listScroll=new ListScroll),window.ListScroll&&(i.projectsFilter=new ProjectsFilter)},objectFitPolyfill:function(){"object-fit"in document.body.style||$("[data-fd-object-fit]").each(function(t,e){var o=$(this).attr("src");$(e).addClass("invisible"),$(e).parent().css({background:"url("+o+")"})})},init:function(){window.addEventListener("DOMContentLoaded",function(){FRONDEVO.getControls(),FRONDEVO.setEventList(),FRONDEVO.setConfig(),FRONDEVO.objectFitPolyfill()},!1)}};FRONDEVO.init();
//# sourceMappingURL=site.min.js.map
