(function(e,t){"use strict";function r(e,t){var r,i=[];for(var s=0;s<e.length;++s){r=n[e[s]]||o(e[s]);if(!r){throw"module definition dependecy not found: "+e[s]}i.push(r)}t.apply(null,i)}function i(e,i,s){if(typeof e!=="string"){throw"invalid module definition, module id must be defined and be a string"}if(i===t){throw"invalid module definition, dependencies must be specified"}if(s===t){throw"invalid module definition, definition function must be specified"}r(i,function(){n[e]=s.apply(null,arguments)})}function s(e){return!!n[e]}function o(t){var n=e;var r=t.split(/[.\/]/);for(var i=0;i<r.length;++i){if(!n[r[i]]){return}n=n[r[i]]}return n}function u(r){for(var i=0;i<r.length;i++){var s=e;var o=r[i];var u=o.split(/[.\/]/);for(var a=0;a<u.length-1;++a){if(s[u[a]]===t){s[u[a]]={}}s=s[u[a]]}s[u[u.length-1]]=n[o]}}var n={};i("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env"],function(e,n){function i(e,t){return parseInt(e.getAttribute(t)||1,10)}var r=e.each;return function(s,o){function d(){var e=0;u=[];a=0;r(["thead","tbody","tfoot"],function(t){var n=p.select("> "+t+" tr",o);r(n,function(n,s){s+=e;r(p.select("> td, > th",n),function(e,n){var r,o,f,l;if(u[s]){while(u[s][n]){n++}}f=i(e,"rowspan");l=i(e,"colspan");for(o=s;o<s+f;o++){if(!u[o]){u[o]=[]}for(r=n;r<n+l;r++){u[o][r]={part:t,real:o==s&&r==n,elm:e,rowspan:f,colspan:l}}}a=Math.max(a,n+1)})});e+=n.length})}function v(e,t){e=e.cloneNode(t);e.removeAttribute("id");return e}function m(e,t){var n;n=u[t];if(n){return n[e]}}function g(e,t,n){if(e){n=parseInt(n,10);if(n===1){e.removeAttribute(t,1)}else{e.setAttribute(t,n,1)}}}function y(e){return e&&(p.hasClass(e.elm,"mce-item-selected")||e==c)}function b(){var e=[];r(o.rows,function(t){r(t.cells,function(n){if(p.hasClass(n,"mce-item-selected")||c&&n==c.elm){e.push(t);return false}})});return e}function w(){var e=p.createRng();e.setStartAfter(o);e.setEndAfter(o);h.setRng(e);p.remove(o)}function E(t){var i,o={};if(s.settings.table_clone_elements!==false){o=e.makeMap((s.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)}e.walk(t,function(e){var s;if(e.nodeType==3){r(p.getParents(e.parentNode,null,t).reverse(),function(e){if(!o[e.nodeName]){return}e=v(e,false);if(!i){i=s=e}else if(s){s.appendChild(e)}s=e});if(s){s.innerHTML=n.ie?"&nbsp;":'<br data-mce-bogus="1" />'}return false}},"childNodes");t=v(t,false);g(t,"rowSpan",1);g(t,"colSpan",1);if(i){t.appendChild(i)}else{if(!n.ie||n.ie>10){t.innerHTML='<br data-mce-bogus="1" />'}}return t}function S(){var e=p.createRng(),t;r(p.select("tr",o),function(e){if(e.cells.length===0){p.remove(e)}});if(p.select("tr",o).length===0){e.setStartBefore(o);e.setEndBefore(o);h.setRng(e);p.remove(o);return}r(p.select("thead,tbody,tfoot",o),function(e){if(e.rows.length===0){p.remove(e)}});d();if(f){t=u[Math.min(u.length-1,f.y)];if(t){h.select(t[Math.min(t.length-1,f.x)].elm,true);h.collapse(true)}}}function x(e,t,n,r){var i,s,o,a,f;i=u[t][e].elm.parentNode;for(o=1;o<=n;o++){i=p.getNext(i,"tr");if(i){for(s=e;s>=0;s--){f=u[t+o][s].elm;if(f.parentNode==i){for(a=1;a<=r;a++){p.insertAfter(E(f),f)}break}}if(s==-1){for(a=1;a<=r;a++){i.insertBefore(E(i.cells[0]),i.cells[0])}}}}}function T(){r(u,function(e,t){r(e,function(e,n){var r,s,o;if(y(e)){e=e.elm;r=i(e,"colspan");s=i(e,"rowspan");if(r>1||s>1){g(e,"rowSpan",1);g(e,"colSpan",1);for(o=0;o<r-1;o++){p.insertAfter(E(e),e)}x(n,t,s-1,r)}}})})}function N(t,n,i){var s,o,a,c,h,v,b,w,E,x,N;if(t){s=D(t);o=s.x;a=s.y;c=o+(n-1);h=a+(i-1)}else{f=l=null;r(u,function(e,t){r(e,function(e,n){if(y(e)){if(!f){f={x:n,y:t}}l={x:n,y:t}}})});if(f){o=f.x;a=f.y;c=l.x;h=l.y}}w=m(o,a);E=m(c,h);if(w&&E&&w.part==E.part){T();d();w=m(o,a).elm;g(w,"colSpan",c-o+1);g(w,"rowSpan",h-a+1);for(b=a;b<=h;b++){for(v=o;v<=c;v++){if(!u[b]||!u[b][v]){continue}t=u[b][v].elm;if(t!=w){x=e.grep(t.childNodes);r(x,function(e){w.appendChild(e)});if(x.length){x=e.grep(w.childNodes);N=0;r(x,function(e){if(e.nodeName=="BR"&&p.getAttrib(e,"data-mce-bogus")&&N++<x.length-1){w.removeChild(e)}})}p.remove(t)}}}S()}}function C(e){var n,s,o,a,f,l,c,h,d;r(u,function(t,i){r(t,function(t){if(y(t)){t=t.elm;f=t.parentNode;l=v(f,false);n=i;if(e){return false}}});if(e){return!n}});if(n===t){return}for(a=0;a<u[0].length;a++){if(!u[n][a]){continue}s=u[n][a].elm;if(s!=o){if(!e){d=i(s,"rowspan");if(d>1){g(s,"rowSpan",d+1);continue}}else{if(n>0&&u[n-1][a]){h=u[n-1][a].elm;d=i(h,"rowSpan");if(d>1){g(h,"rowSpan",d+1);continue}}}c=E(s);g(c,"colSpan",s.colSpan);l.appendChild(c);o=s}}if(l.hasChildNodes()){if(!e){p.insertAfter(l,f)}else{f.parentNode.insertBefore(l,f)}}}function k(e){var t,n;r(u,function(n){r(n,function(n,r){if(y(n)){t=r;if(e){return false}}});if(e){return!t}});r(u,function(r,s){var o,u,a;if(!r[t]){return}o=r[t].elm;if(o!=n){a=i(o,"colspan");u=i(o,"rowspan");if(a==1){if(!e){p.insertAfter(E(o),o);x(t,s,u-1,a)}else{o.parentNode.insertBefore(E(o),o);x(t,s,u-1,a)}}else{g(o,"colSpan",o.colSpan+1)}n=o}})}function L(){var t=[];r(u,function(n){r(n,function(n,s){if(y(n)&&e.inArray(t,s)===-1){r(u,function(e){var t=e[s].elm,n;n=i(t,"colSpan");if(n>1){g(t,"colSpan",n-1)}else{p.remove(t)}});t.push(s)}})});S()}function A(){function t(e){var t,n;r(e.cells,function(e){var n=i(e,"rowSpan");if(n>1){g(e,"rowSpan",n-1);t=D(e);x(t.x,t.y,1,1)}});t=D(e.cells[0]);r(u[t.y],function(e){var t;e=e.elm;if(e!=n){t=i(e,"rowSpan");if(t<=1){p.remove(e)}else{g(e,"rowSpan",t-1)}n=e}})}var e;e=b();r(e.reverse(),function(e){t(e)});S()}function O(){var e=b();p.remove(e);S();return e}function M(){var e=b();r(e,function(t,n){e[n]=v(t,true)});return e}function _(e,t){var n=b(),i=n[t?0:n.length-1],s=i.cells.length;if(!e){return}r(u,function(e){var t;s=0;r(e,function(e){if(e.real){s+=e.colspan}if(e.elm.parentNode==i){t=1}});if(t){return false}});if(!t){e.reverse()}r(e,function(e){var n,r=e.cells.length,o;for(n=0;n<r;n++){o=e.cells[n];g(o,"colSpan",1);g(o,"rowSpan",1)}for(n=r;n<s;n++){e.appendChild(E(e.cells[r-1]))}for(n=s;n<r;n++){p.remove(e.cells[n])}if(t){i.parentNode.insertBefore(e,i)}else{p.insertAfter(e,i)}});p.removeClass(p.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected")}function D(e){var t;r(u,function(n,i){r(n,function(n,r){if(n.elm==e){t={x:r,y:i};return false}});return!t});return t}function P(e){f=D(e)}function H(){var e,t;e=t=0;r(u,function(n,i){r(n,function(n,r){var s,o;if(y(n)){n=u[i][r];if(r>e){e=r}if(i>t){t=i}if(n.real){s=n.colspan-1;o=n.rowspan-1;if(s){if(r+s>e){e=r+s}}if(o){if(i+o>t){t=i+o}}}}})});return{x:e,y:t}}function B(e){var t,n,r,i,s,o,a,c,h,d;l=D(e);if(f&&l){t=Math.min(f.x,l.x);n=Math.min(f.y,l.y);r=Math.max(f.x,l.x);i=Math.max(f.y,l.y);s=r;o=i;for(d=n;d<=o;d++){e=u[d][t];if(!e.real){if(t-(e.colspan-1)<t){t-=e.colspan-1}}}for(h=t;h<=s;h++){e=u[n][h];if(!e.real){if(n-(e.rowspan-1)<n){n-=e.rowspan-1}}}for(d=n;d<=i;d++){for(h=t;h<=r;h++){e=u[d][h];if(e.real){a=e.colspan-1;c=e.rowspan-1;if(a){if(h+a>s){s=h+a}}if(c){if(d+c>o){o=d+c}}}}}p.removeClass(p.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected");for(d=n;d<=o;d++){for(h=t;h<=s;h++){if(u[d][h]){p.addClass(u[d][h].elm,"mce-item-selected")}}}}}function j(e,t){var n,r,i;n=D(e);r=n.y*a+n.x;do{r+=t;i=m(r%a,Math.floor(r/a));if(!i){break}if(i.elm!=e){h.select(i.elm,true);if(p.isEmpty(i.elm)){h.collapse(true)}return true}}while(i.elm==e);return false}var u,a,f,l,c,h=s.selection,p=h.dom;o=o||p.getParent(h.getStart(),"table");d();c=p.getParent(h.getStart(),"th,td");if(c){f=D(c);l=H();c=m(f.x,f.y)}e.extend(this,{deleteTable:w,split:T,merge:N,insertRow:C,insertCol:k,deleteCols:L,deleteRows:A,cutRows:O,copyRows:M,pasteRows:_,getPos:D,setStartCell:P,setEndCell:B,moveRelIdx:j,refresh:d})}});i("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/Env","tinymce/util/Tools"],function(e,t,n){function i(e,t){return parseInt(e.getAttribute(t)||1,10)}var r=n.each;return function(n){function s(){function t(t){function o(e,r){var i=e?"previousSibling":"nextSibling";var s=n.dom.getParent(r,"tr");var o=s[i];if(o){g(n,r,o,e);t.preventDefault();return true}else{var a=n.dom.getParent(s,"table");var c=s.parentNode;var h=c.nodeName.toLowerCase();if(h==="tbody"||h===(e?"tfoot":"thead")){var p=u(e,a,c,"tbody");if(p!==null){return f(e,p,r)}}return l(e,s,i,a)}}function u(e,t,r,i){var s=n.dom.select(">"+i,t);var o=s.indexOf(r);if(e&&o===0||!e&&o===s.length-1){return a(e,t)}else if(o===-1){var u=r.tagName.toLowerCase()==="thead"?0:s.length-1;return s[u]}else{return s[o+(e?-1:1)]}}function a(e,t){var r=e?"thead":"tfoot";var i=n.dom.select(">"+r,t);return i.length!==0?i[0]:null}function f(e,r,i){var s=c(r,e);if(s){g(n,i,s,e)}t.preventDefault();return true}function l(e,r,i,s){var u=s[i];if(u){h(u);return true}else{var a=n.dom.getParent(s,"td,th");if(a){return o(e,a,t)}else{var f=c(r,!e);h(f);t.preventDefault();return false}}}function c(e,t){var r=e&&e[t?"lastChild":"firstChild"];return r&&r.nodeName==="BR"?n.dom.getParent(r,"td,th"):r}function h(e){n.selection.setCursorLocation(e,0)}function p(){return s==e.UP||s==e.DOWN}function d(e){var t=e.selection.getNode();var n=e.dom.getParent(t,"tr");return n!==null}function v(e){var t=0;var n=e;while(n.previousSibling){n=n.previousSibling;t=t+i(n,"colspan")}return t}function m(e,t){var n=0,s=0;r(e.children,function(e,r){n=n+i(e,"colspan");s=r;if(n>t){return false}});return s}function g(e,t,r,i){var s=v(n.dom.getParent(t,"td,th"));var o=m(r,s);var u=r.childNodes[o];var a=c(u,i);h(a||u)}function y(e){var t=n.selection.getNode();var r=n.dom.getParent(t,"td,th");var i=n.dom.getParent(e,"td,th");return r&&r!==i&&b(r,i)}function b(e,t){return n.dom.getParent(e,"TABLE")===n.dom.getParent(t,"TABLE")}var s=t.keyCode;if(p()&&d(n)){var w=n.selection.getNode();setTimeout(function(){if(y(w)){o(!t.shiftKey&&s===e.UP,w,t)}},0)}}n.on("KeyDown",function(e){t(e)})}function o(){function e(e,t){var n=t.ownerDocument,r=n.createRange(),i;r.setStartBefore(t);r.setEnd(e.endContainer,e.endOffset);i=n.createElement("body");i.appendChild(r.cloneContents());return i.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length===0}n.on("KeyDown",function(t){var r,i,s=n.dom;if(t.keyCode==37||t.keyCode==38){r=n.selection.getRng();i=s.getParent(r.startContainer,"table");if(i&&n.getBody().firstChild==i){if(e(r,i)){r=s.createRng();r.setStartBefore(i);r.setEndBefore(i);n.selection.setRng(r);t.preventDefault()}}}})}function u(){n.on("KeyDown SetContent VisualAid",function(){var e;for(e=n.getBody().lastChild;e;e=e.previousSibling){if(e.nodeType==3){if(e.nodeValue.length>0){break}}else if(e.nodeType==1&&(e.tagName=="BR"||!e.getAttribute("data-mce-bogus"))){break}}if(e&&e.nodeName=="TABLE"){if(n.settings.forced_root_block){n.dom.add(n.getBody(),n.settings.forced_root_block,n.settings.forced_root_block_attrs,t.ie&&t.ie<11?"&nbsp;":'<br data-mce-bogus="1" />')}else{n.dom.add(n.getBody(),"br",{"data-mce-bogus":"1"})}}});n.on("PreProcess",function(e){var t=e.node.lastChild;if(t&&(t.nodeName=="BR"||t.childNodes.length==1&&(t.firstChild.nodeName=="BR"||t.firstChild.nodeValue==" "))&&t.previousSibling&&t.previousSibling.nodeName=="TABLE"){n.dom.remove(t)}})}function a(){function e(e,t,n,r){var i=3,s=e.dom.getParent(t.startContainer,"TABLE");var o,u,a;if(s){o=s.parentNode}u=t.startContainer.nodeType==i&&t.startOffset===0&&t.endOffset===0&&r&&(n.nodeName=="TR"||n==o);a=(n.nodeName=="TD"||n.nodeName=="TH")&&!r;return u||a}function t(){var t=n.selection.getRng();var r=n.selection.getNode();var i=n.dom.getParent(t.startContainer,"TD,TH");if(!e(n,t,r,i)){return}if(!i){i=r}var s=i.lastChild;while(s.lastChild){s=s.lastChild}if(s.nodeType==3){t.setEnd(s,s.data.length);n.selection.setRng(t)}}n.on("KeyDown",function(){t()});n.on("MouseDown",function(e){if(e.button!=2){t()}})}function f(){n.on("keydown",function(t){if((t.keyCode==e.DELETE||t.keyCode==e.BACKSPACE)&&!t.isDefaultPrevented()){var r=n.dom.getParent(n.selection.getStart(),"table");if(r){var i=n.dom.select("td,th",r),s=i.length;while(s--){if(!n.dom.hasClass(i[s],"mce-item-selected")){return}}t.preventDefault();n.execCommand("mceTableDelete")}}})}f();if(t.webkit){s();a()}if(t.gecko){o();u()}if(t.ie>10){o();u()}}});i("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(e,t,n){return function(r){function l(e){r.getBody().style.webkitUserSelect="";if(e||a){r.dom.removeClass(r.dom.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected");a=false}}function c(t){var n,l,c=t.target;if(f){return}if(o&&(s||c!=o)&&(c.nodeName=="TD"||c.nodeName=="TH")){l=i.getParent(c,"table");if(l==u){if(!s){s=new e(r,l);s.setStartCell(o);r.getBody().style.webkitUserSelect="none"}s.setEndCell(c);a=true}n=r.selection.getSel();try{if(n.removeAllRanges){n.removeAllRanges()}else{n.empty()}}catch(h){}t.preventDefault()}}var i=r.dom,s,o,u,a=true,f;r.on("MouseDown",function(e){if(e.button!=2&&!f){l();o=i.getParent(e.target,"td,th");u=i.getParent(o,"table")}});r.on("mouseover",c);r.on("remove",function(){i.unbind(r.getDoc(),"mouseover",c)});r.on("MouseUp",function(){function p(r,i){var s=new t(r,r);do{if(r.nodeType==3&&n.trim(r.nodeValue).length!==0){if(i){e.setStart(r,0)}else{e.setEnd(r,r.nodeValue.length)}return}if(r.nodeName=="BR"){if(i){e.setStartBefore(r)}else{e.setEndBefore(r)}return}}while(r=i?s.next():s.prev())}var e,a=r.selection,f,l,c,h;if(o){if(s){r.getBody().style.webkitUserSelect=""}f=i.select("td.mce-item-selected,th.mce-item-selected");if(f.length>0){e=i.createRng();c=f[0];e.setStartBefore(c);e.setEndAfter(c);p(c,1);l=new t(c,i.getParent(f[0],"table"));do{if(c.nodeName=="TD"||c.nodeName=="TH"){if(!i.hasClass(c,"mce-item-selected")){break}h=c}}while(c=l.next());p(h);a.setRng(e)}r.nodeChanged();o=s=u=null}});r.on("KeyUp Drop SetContent",function(e){l(e.type=="setcontent");o=s=u=null;f=false});r.on("ObjectResizeStart ObjectResized",function(e){f=e.type!="objectresized"});return{clear:l}}});i("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(e,t){var n=e.each;return function(r){function s(){var e=r.settings.color_picker_callback;if(e){return function(){var t=this;e.call(r,function(e){t.value(e).fire("change")},t.value())}}}function o(e){return{title:"Advanced",type:"form",defaults:{onchange:function(){h(e,this.parents().reverse()[0],this.name()=="style")}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:s()},{label:"Border width",type:"textbox",name:"borderWidth",minWidth:122,maxWidth:122},{label:"Border style",name:"borderStyle",type:"listbox",minWidth:122,maxWidth:122,values:[{text:"None",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"}]},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:s()}]}]}}function u(e){return e?e.replace(/px$/,""):""}function a(e){if(/^[0-9]+$/.test(e)){e+="px"}return e}function f(e){n("left center right".split(" "),function(t){r.formatter.remove("align"+t,{},e)})}function l(e){n("top middle bottom".split(" "),function(t){r.formatter.remove("valign"+t,{},e)})}function c(t,n,r){function i(t,r){r=r||[];e.each(t,function(e){var t={text:e.text||e.title};if(e.menu){t.menu=i(e.menu)}else{t.value=e.value;if(n){n(t)}}r.push(t)});return r}return i(t,r||[])}function h(e,t,n){var r=t.toJSON();var i=e.parseStyle(r.style);if(n){t.find("#borderStyle").value(i["border-style"]||"")[0].fire("change");t.find("#borderWidth").value(i["border-width"]||"")[0].fire("change");t.find("#borderColor").value(i["border-color"]||"")[0].fire("change");t.find("#backgroundColor").value(i["background-color"]||"")[0].fire("change")}else{i["border-style"]=r.borderStyle;i["border-width"]=r.borderWidth;i["border-color"]=r.borderColor;i["background-color"]=r.backgroundColor}t.find("#style").value(e.serializeStyle(e.parseStyle(e.serializeStyle(i))))}function p(e,t,n){var r=e.parseStyle(e.getAttrib(n,"style"));if(r["border-color"]){t.borderColor=r["border-color"]}if(r["border-style"]){t.borderStyle=r["border-style"]}if(r["border-width"]){t.borderWidth=r["border-width"]}if(r["background-color"]){t.backgroundColor=r["background-color"]}t.style=e.serializeStyle(r)}var i=this;i.tableProps=function(){i.table(true)};i.table=function(i){function b(){var n;h(s,this);g=e.extend(g,this.toJSON());e.each("backgroundColor borderColor borderWidth borderStyle".split(" "),function(e){delete g[e]});if(g["class"]===false){delete g["class"]}r.undoManager.transact(function(){if(!l){l=r.plugins.table.insertTable(g.cols||1,g.rows||1)}r.dom.setAttribs(l,{cellspacing:g.cellspacing,cellpadding:g.cellpadding,border:g.border,style:g.style,"class":g["class"]});if(s.getAttrib(l,"width")){s.setAttrib(l,"width",u(g.width))}else{s.setStyle(l,"width",a(g.width))}s.setStyle(l,"height",a(g.height));n=s.select("caption",l)[0];if(n&&!g.caption){s.remove(n)}if(!n&&g.caption){n=s.create("caption");n.innerHTML=!t.ie?'<br data-mce-bogus="1"/>':" ";l.insertBefore(n,l.firstChild)}f(l);if(g.align){r.formatter.apply("align"+g.align,{},l)}r.focus();r.addVisual()})}var s=r.dom,l,d,v,m,g={},y;if(i===true){l=s.getParent(r.selection.getStart(),"table");if(l){g={width:u(s.getStyle(l,"width")||s.getAttrib(l,"width")),height:u(s.getStyle(l,"height")||s.getAttrib(l,"height")),cellspacing:l?s.getAttrib(l,"cellspacing"):"",cellpadding:l?s.getAttrib(l,"cellpadding"):"",border:l?s.getAttrib(l,"border"):"",caption:!!s.select("caption",l)[0],"class":s.getAttrib(l,"class")};n("left center right".split(" "),function(e){if(r.formatter.matchNode(l,"align"+e)){g.align=e}})}}else{d={label:"Cols",name:"cols"};v={label:"Rows",name:"rows"}}if(r.settings.table_class_list){if(g["class"]){g["class"]=g["class"].replace(/\s*mce\-item\-table\s*/g,"")}m={name:"class",type:"listbox",label:"Class",values:c(r.settings.table_class_list,function(e){if(e.value){e.textStyle=function(){return r.formatter.getCssText({block:"table",classes:[e.value]})}}})}}y={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:false,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:[d,v,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},m]};if(r.settings.table_advtab!==false){p(s,g,l);r.windowManager.open({title:"Table properties",data:g,bodyType:"tabpanel",body:[{title:"General",type:"form",items:y},o(s)],onsubmit:b})}else{r.windowManager.open({title:"Table properties",data:g,body:y,onsubmit:b})}};i.merge=function(e,t){r.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var n=this.toJSON();r.undoManager.transact(function(){e.merge(t,n.cols,n.rows)})}})};i.cell=function(){function m(){h(t,this);s=e.extend(s,this.toJSON());r.undoManager.transact(function(){n(v,function(e){r.dom.setAttribs(e,{scope:s.scope,style:s.style,"class":s["class"]});r.dom.setStyles(e,{width:a(s.width),height:a(s.height)});if(s.type&&e.nodeName.toLowerCase()!=s.type){e=t.rename(e,s.type)}f(e);if(s.align){r.formatter.apply("align"+s.align,{},e)}l(e);if(s.valign){r.formatter.apply("valign"+s.valign,{},e)}});r.focus()})}var t=r.dom,i,s,d,v=[];v=r.dom.select("td.mce-item-selected,th.mce-item-selected");i=r.dom.getParent(r.selection.getStart(),"td,th");if(!v.length&&i){v.push(i)}i=i||v[0];if(!i){return}s={width:u(t.getStyle(i,"width")||t.getAttrib(i,"width")),height:u(t.getStyle(i,"height")||t.getAttrib(i,"height")),scope:t.getAttrib(i,"scope"),"class":t.getAttrib(i,"class")};s.type=i.nodeName.toLowerCase();n("left center right".split(" "),function(e){if(r.formatter.matchNode(i,"align"+e)){s.align=e}});n("top middle bottom".split(" "),function(e){if(r.formatter.matchNode(i,"valign"+e)){s.valign=e}});if(r.settings.table_cell_class_list){d={name:"class",type:"listbox",label:"Class",values:c(r.settings.table_cell_class_list,function(e){if(e.value){e.textStyle=function(){return r.formatter.getCssText({block:"td",classes:[e.value]})}}})}}var g={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:false,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},d]};if(r.settings.table_cell_advtab!==false){p(t,s,i);r.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:s,body:[{title:"General",type:"form",items:g},o(t)],onsubmit:m})}else{r.windowManager.open({title:"Cell properties",data:s,body:g,onsubmit:m})}};i.row=function(){function y(){var i,s,o;h(t,this);v=e.extend(v,this.toJSON());r.undoManager.transact(function(){var e=v.type;n(m,function(n){r.dom.setAttribs(n,{scope:v.scope,style:v.style,"class":v["class"]});r.dom.setStyles(n,{height:a(v.height)});if(e!=n.parentNode.nodeName.toLowerCase()){i=t.getParent(n,"table");s=n.parentNode;o=t.select(e,i)[0];if(!o){o=t.create(e);if(i.firstChild){i.insertBefore(o,i.firstChild)}else{i.appendChild(o)}}o.appendChild(n);if(!s.hasChildNodes()){t.remove(s)}}f(n);if(v.align){r.formatter.apply("align"+v.align,{},n)}});r.focus()})}var t=r.dom,i,s,l,d,v,m=[],g;i=r.dom.getParent(r.selection.getStart(),"table");s=r.dom.getParent(r.selection.getStart(),"td,th");n(i.rows,function(e){n(e.cells,function(n){if(t.hasClass(n,"mce-item-selected")||n==s){m.push(e);return false}})});l=m[0];if(!l){return}v={height:u(t.getStyle(l,"height")||t.getAttrib(l,"height")),scope:t.getAttrib(l,"scope"),"class":t.getAttrib(l,"class")};v.type=l.parentNode.nodeName.toLowerCase();n("left center right".split(" "),function(e){if(r.formatter.matchNode(l,"align"+e)){v.align=e}});if(r.settings.table_row_class_list){d={name:"class",type:"listbox",label:"Class",values:c(r.settings.table_row_class_list,function(e){if(e.value){e.textStyle=function(){return r.formatter.getCssText({block:"tr",classes:[e.value]})}}})}}g={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"None",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},d]};if(r.settings.table_row_advtab!==false){p(t,v,l);r.windowManager.open({title:"Row properties",data:v,bodyType:"tabpanel",body:[{title:"General",type:"form",items:g},o(t)],onsubmit:y})}else{r.windowManager.open({title:"Row properties",data:v,body:g,onsubmit:y})}}}});i("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(e,t,n,r,i,s,o,u){function f(i){function l(e){return function(){i.execCommand(e)}}function c(e,t){var n,r,s,u;s='<table id="__mce"><tbody>';for(n=0;n<t;n++){s+="<tr>";for(r=0;r<e;r++){s+="<td>"+(o.ie?" ":"<br>")+"</td>"}s+="</tr>"}s+="</tbody></table>";i.undoManager.transact(function(){i.insertContent(s);u=i.dom.get("__mce");i.dom.setAttrib(u,"id",null);i.dom.setAttribs(u,i.settings.table_default_attributes||{});i.dom.setStyles(u,i.settings.table_default_styles||{})});return u}function h(e,t){function n(){e.disabled(!i.dom.getParent(i.selection.getStart(),t));i.selection.selectorChanged(t,function(t){e.disabled(!t)})}if(i.initialized){n()}else{i.on("init",n)}}function p(){h(this,"table")}function d(){h(this,"td,th")}function v(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;t<10;t++){e+="<tr>";for(var n=0;n<10;n++){e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(t*10+n)+'" href="#" '+'data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>'}e+="</tr>"}e+="</table>";e+='<div class="mce-text-center" role="presentation">1 x 1</div>';return e}function m(e,t,n){var r=n.getEl().getElementsByTagName("table")[0];var s,o,u,a,f;var l=n.isRtl()||n.parent().rel=="tl-tr";r.nextSibling.innerHTML=e+1+" x "+(t+1);if(l){e=9-e}for(o=0;o<10;o++){for(s=0;s<10;s++){a=r.rows[o].childNodes[s].firstChild;f=(l?s>=e:s<=e)&&o<=t;i.dom.toggleClass(a,"mce-active",f);if(f){u=a}}}return u.parentNode}var s,u=this,f=new r(i);if(i.settings.table_grid===false){i.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",onclick:f.table})}else{i.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",ariaHideMenu:true,onclick:function(e){if(e.aria){this.parent().hideAll();e.stopImmediatePropagation();f.table()}},onshow:function(){m(0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");i.dom.removeClass(e,"mce-active");i.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:v(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t=e.target,n,r;if(t.tagName.toUpperCase()=="A"){n=parseInt(t.getAttribute("data-mce-x"),10);r=parseInt(t.getAttribute("data-mce-y"),10);if(this.isRtl()||this.parent().rel=="tl-tr"){n=9-n}if(n!==this.lastX||r!==this.lastY){m(n,r,e.control);this.lastX=n;this.lastY=r}}},onclick:function(e){var t=this;if(e.target.tagName.toUpperCase()=="A"){e.preventDefault();e.stopPropagation();t.parent().cancel();i.undoManager.transact(function(){c(t.lastX+1,t.lastY+1)});i.addVisual()}}}]})}i.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:p,onclick:f.tableProps});i.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:p,cmd:"mceTableDelete"});i.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:l("mceTableCellProps"),onPostRender:d},{text:"Merge cells",onclick:l("mceTableMergeCells"),onPostRender:d},{text:"Split cell",onclick:l("mceTableSplitCells"),onPostRender:d}]});i.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:l("mceTableInsertRowBefore"),onPostRender:d},{text:"Insert row after",onclick:l("mceTableInsertRowAfter"),onPostRender:d},{text:"Delete row",onclick:l("mceTableDeleteRow"),onPostRender:d},{text:"Row properties",onclick:l("mceTableRowProps"),onPostRender:d},{text:"-"},{text:"Cut row",onclick:l("mceTableCutRow"),onPostRender:d},{text:"Copy row",onclick:l("mceTableCopyRow"),onPostRender:d},{text:"Paste row before",onclick:l("mceTablePasteRowBefore"),onPostRender:d},{text:"Paste row after",onclick:l("mceTablePasteRowAfter"),onPostRender:d}]});i.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:l("mceTableInsertColBefore"),onPostRender:d},{text:"Insert column after",onclick:l("mceTableInsertColAfter"),onPostRender:d},{text:"Delete column",onclick:l("mceTableDeleteCol"),onPostRender:d}]});var g=[];a("inserttable tableprops deletetable | cell row column".split(" "),function(e){if(e=="|"){g.push({text:"-"})}else{g.push(i.menuItems[e])}});i.addButton("table",{type:"menubutton",title:"Table",menu:g});if(!o.isIE){i.on("click",function(e){e=e.target;if(e.nodeName==="TABLE"){i.selection.select(e);i.nodeChanged()}})}u.quirks=new t(i);i.on("Init",function(){u.cellSelection=new n(i)});a({mceTableSplitCells:function(e){e.split()},mceTableMergeCells:function(e){var t;t=i.dom.getParent(i.selection.getStart(),"th,td");if(!i.dom.select("td.mce-item-selected,th.mce-item-selected").length){f.merge(e,t)}else{e.merge()}},mceTableInsertRowBefore:function(e){e.insertRow(true)},mceTableInsertRowAfter:function(e){e.insertRow()},mceTableInsertColBefore:function(e){e.insertCol(true)},mceTableInsertColAfter:function(e){e.insertCol()},mceTableDeleteCol:function(e){e.deleteCols()},mceTableDeleteRow:function(e){e.deleteRows()},mceTableCutRow:function(e){s=e.cutRows()},mceTableCopyRow:function(e){s=e.copyRows()},mceTablePasteRowBefore:function(e){e.pasteRows(s,true)},mceTablePasteRowAfter:function(e){e.pasteRows(s)},mceTableDelete:function(e){e.deleteTable()}},function(t,n){i.addCommand(n,function(){var n=new e(i);if(n){t(n);i.execCommand("mceRepaint");u.cellSelection.clear()}})});a({mceInsertTable:f.table,mceTableProps:function(){f.table(true)},mceTableRowProps:f.row,mceTableCellProps:f.cell},function(e,t){i.addCommand(t,function(t,n){e(n)})});if(i.settings.table_tab_navigation!==false){i.on("keydown",function(t){var n,r,s;if(t.keyCode==9){n=i.dom.getParent(i.selection.getStart(),"th,td");if(n){t.preventDefault();r=new e(i);s=t.shiftKey?-1:1;i.undoManager.transact(function(){if(!r.moveRelIdx(n,s)&&s>0){r.insertRow();r.refresh();r.moveRelIdx(n,s)}})}}})}u.insertTable=c}var a=i.each;u.add("table",f)})})(this)